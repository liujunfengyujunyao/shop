<include file="public/layout" />
<body style="background-color: #FFF; overflow: auto;">
<div id="toolTipLayer" style="position: absolute; z-index: 9999; display: none; visibility: visible; left: 95px; top: 573px;"></div>
<div id="append_parent"></div>
<div id="ajaxwaitid"></div>
<div class="page">
    <div class="fixed-bar">
        <div class="item-title"><a class="back" href="javascript:history.back();" title="返回列表"><i class="fa fa-arrow-circle-o-left"></i></a>
            <div class="subject">
                <h3>贩卖机管理 - 编辑贩卖机</h3>
                <h5>贩卖机管理</h5>
            </div>
        </div>
    </div>
    <form class="form-horizontal" id="machine" method="post">
        <input type="hidden" name="act" value="{$act}">
        <input type="hidden" name="machine_id" value="{$info.machine_id}">
        <input type="hidden" name="user_id" value="{$info.user_id}">
        <div class="ncap-form-default">
            <dl class="row">
                <dt class="tit">
                    <label for="sn"><em>*</em>设备SN</label>
                </dt>
                <dd class="opt">
                    <input type="text" name="sn" value="{$info.sn}" id="sn" class="input-txt">
                    <span class="err" id="err_sn"></span>
                    <p class="notic">填入设备SN</p>
                </dd>
            </dl>
              <dl class="row">
                <dt class="tit">
                    <label for="sn"><em>*</em>设备token</label>
                </dt>
                <dd class="opt">
                    <input type="text" name="access_token" value="{$info.access_token}" id="sn" class="input-txt">
                    <span class="err" id="err_sn"></span>
                    <p class="notic">填入设备ACCESS_TOKEN</p>
                </dd>
            </dl>
             <!--  <dl class="row">
                <dt class="tit">
                    <label for="sn"><em>*</em>设备uuid</label>
                </dt>
                <dd class="opt">
                    <input type="text" name="uuid" value="{$info.uuid}" id="sn" class="input-txt">
                    <span class="err" id="err_sn"></span>
                    <p class="notic">填入设备UUID</p>
                </dd>
            </dl> -->
            <!-- <dl class="row">
                <dt class="tit">
                    <label for="machine_name"><em>*</em>贩卖机名称</label>
                </dt>
                <dd class="opt">
                    <input type="text" name="machine_name" value="{$info.machine_name}" id="machine_name" class="input-txt">
                    <span class="err" id="err_machine_name"></span>
                    <p class="notic">设置贩卖机名称</p>
                </dd>
            </dl> -->
           <dl class="row">
                <dt class="tit">
                    <label for="name">版本:</label>
                </dt>
                <dd class="opt">
                    <select name="version" id="version"  class="class-select valid">
                   <!--  <foreach name="type_arr" item="vo" key="k">
                        <option value="{$k}" <if condition="$k eq $info['type_id']">selected</if>>{$vo}</option>
                    </foreach> -->
                        <option value="1.3">1.3</option>
                        <option value="1.4">1.4</option>
                   </select>
                    <span class="err" id="err_type"></span>
                    <p class="notic">填写设备的版本号</p>
                </dd>
            </dl>
              <dl class="row">
                <dt class="tit">
                    <label for="name">屏幕比例:</label>
                </dt>
                <dd class="opt">
                    <select name="bili" id="bili"  class="class-select valid">
                   <!--  <foreach name="type_arr" item="vo" key="k">
                        <option value="{$k}" <if condition="$k eq $info['type_id']">selected</if>>{$vo}</option>
                    </foreach> -->
                        <option value="16:9">16:9</option>
                        <option value="4:3">4:3</option>
                   </select>
                    <span class="err" id="err_type"></span>
                    <p class="notic">填写设备的屏幕比例</p>
                </dd>
            </dl>
              <dl class="row">
                <dt class="tit">
                    <label for="type_id">设备类型:</label>
                </dt>
                <dd class="opt">
                    <select name="type" id="type"  class="class-select valid">
                    <!-- <foreach name="type_arr" item="vo" key="k">
                        <option value="{$k}" <if condition="$k eq $info['type_id']">selected</if>>{$vo}</option>
                    </foreach> -->
                        <option value="1">口红机</option>
                        <option value="2">福袋机</option>
                        <option value="3">售币机</option>      
                        <option value="4">彩票机</option>  
                        <option value="5">娃娃机</option>  
                   </select>
                    <span class="err" id="err_type"></span>
                    <p class="notic">设置贩卖机分类所对应的类型</p>
                </dd>
            </dl>
           <!--  <dl class="row">
                <dt class="tit">
                    <label><em>*</em>地址</label>
                </dt>
                <dd class="opt">
                    <select name="province" id="province" onChange="get_city(this)">
                        <option value="">请选择</option>
                        <volist name="province" id="p">
                            <option <if condition="$info['province_id'] eq $p['id']">selected</if>  value="{$p.id}">{$p.name}</option>
                        </volist>
                    </select>
                    <select name="city" id="city" onChange="get_area(this)">
                        <option value="">请选择</option>
                        <volist name="city" id="p">
                            <option <if condition="$info['city_id'] eq $p['id']">selected</if>  value="{$p.id}">{$p.name}</option>
                        </volist>
                    </select>
                    <select name="district" id="district">
                        <option value="">请选择</option>
                        <volist name="district" id="p">
                            <option <if condition="$info['district_id'] eq $p['id']">selected</if>  value="{$p.id}">{$p.name}</option>
                        </volist>
                    </select>
                    <span class="err" id="err_district"></span>
                    <p class="notic">地址</p>
                </dd>
            </dl> -->
           <!--  <dl class="row">
                <dt class="tit">
                    <label for="nickname"><em>*</em>机台管理员</label>
                </dt>
                <dd class="opt">
                    <input type="text" value="{$info.nickname}" name="nickname" id="nickname" class="input-txt">
                    <span class="err"></span>
                    <p class="notic"></p>
                </dd>
            </dl>
            <dl class="row">
                <dt class="tit">
                    <label for="password"><em>*</em>登录密码</label>
                </dt>
                <dd class="opt">
                    <input type="password" name="password" id="password" class="input-txt">
                    <span class="err"></span>
                    <p class="notic">6-16位字母数字符号组合</p>
                </dd>
            </dl>
            <dl class="row">
                <dt class="tit">
                    <label for="mobile"><em>*</em>手机号码</label>
                </dt>
                <dd class="opt">
                    <input type="text" value="{$info.phone}" name="mobile" id="mobile" class="input-txt">
                    <span class="err"></span>
                    <p class="notic">请填写未在本平台使用过的手机号码</p>
                </dd>
            </dl> -->
            <!-- <dl class="row">
                <dt class="tit">
                    <label for="email"><em></em>邮件地址</label>
                </dt>
                <dd class="opt">
                    <input type="text" name="email" id="email" class="input-txt">
                    <span class="err"></span>
                    <p class="notic">请填写未在本平台使用过的邮件地址</p>
                </dd>
            </dl> -->
       <!--      <dl class="row">
                <dt class="tit">
                    <label for="partner_id">补货人员</label>
                </dt>
                <dd class="opt">
                    <select name="partner_id" id="partner_id"  class="class-select valid">
                    <foreach name="partner_arr" item="vo">
                        <option value="{$vo.partner_id}" <if condition="$vo['partner_id'] eq $info['partner_id']">selected</if>>{$vo.nickname}</option>
                    </foreach>
                   </select>
                    <span class="err" id="err_type"></span>
                    <p class="notic">设置负责此机台的补货人员</p>
                </dd>
            </dl> -->
             <!--  <dl class="row">
                <dt class="tit">
                    <label for="machine_admin">机台管理员</label>
                </dt>
                <dd class="opt">
                    <select name="machine_admin" id="machine_admin"  class="class-select valid">
                    <foreach name="machine_admin" item="vo">
                        <option value="{$vo.user_id}" <if condition="$vo['user_id'] eq $info['machine_admin']">selected</if>>{$vo.nickname}</option>
                    </foreach>
                   </select>
                    <span class="err" id="err_type"></span>
                    <p class="notic">负责此机台的管理员</p>
                </dd>
            </dl> -->
            <div class="bot"><a href="JavaScript:void(0);" onclick="verifyForm()" class="ncap-btn-big ncap-btn-green" id="submitBtn">确认提交</a></div>
        </div>
    </form>
</div>
<script type="text/javascript">
    function verifyForm(){
        var type_name = $.trim($('input[name="machine_name"]').val());
        var sn = $.trim($('input[name="sn"]').val());
        var nickname = $.trim($('input[name="nickname"]').val());
        var mobile = $('input[name="mobile"]').val();
        //var password = $('input[name="password"]').val();
        var error ='';
        // if(type_name == ''){
        //     error += "设备名称不能为空\n";
        // }
         if(sn == ''){
            error += "SN不能为空\n";
        }
        // if(password == ''){
        //     error += "密码不能为空\n";
        // }
        // if(password.length<6 || password.length>16){
        //     error += "密码长度不正确\n";
        // }
        // if(!checkMobile(mobile) && mobile != ''){
        //     error += "手机号码填写有误\n";
        // }
        if(error){
            layer.alert(error, {icon: 2});  //alert(error);
            return false;
        }
        $('#machine').submit();
    }
</script>
</body>
</html>